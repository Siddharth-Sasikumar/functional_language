<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENSO-Controlled Agricultural Risk Assessment - Project Report</title>
    <style>
        :root {
            --color-bg: #fcfcf9;
            --color-surface: #ffffff;
            --color-text: #13343b;
            --color-text-secondary: #626c71;
            --color-primary: #21808d;
            --color-accent: #32b8c6;
            --color-border: rgba(94, 82, 64, 0.2);
            --color-card: #f5f5f5;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-bg: #1f2121;
                --color-surface: #262828;
                --color-text: #f1f5f9;
                --color-text-secondary: #cbd5e1;
                --color-primary: #32b8c6;
                --color-accent: #2da6b2;
                --color-border: rgba(119, 124, 124, 0.3);
                --color-card: #334155;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            padding: 2rem;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 2rem 0 3rem;
            border-bottom: 2px solid var(--color-border);
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2.5rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--color-text-secondary);
            margin-bottom: 1rem;
        }

        .meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            color: var(--color-text-secondary);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        section {
            margin-bottom: 3rem;
        }

        h2 {
            font-size: 1.8rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--color-border);
        }

        h3 {
            font-size: 1.3rem;
            color: var(--color-text);
            margin: 1.5rem 0 0.75rem;
        }

        p {
            margin-bottom: 1rem;
            color: var(--color-text);
        }

        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
            color: var(--color-text);
        }

        .card {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .card h4 {
            color: var(--color-primary);
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .highlight {
            background: var(--color-card);
            padding: 1.5rem;
            border-left: 4px solid var(--color-accent);
            border-radius: 4px;
            margin: 1.5rem 0;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .tech-tag {
            background: var(--color-primary);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: var(--color-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }

        th {
            background: var(--color-card);
            color: var(--color-primary);
            font-weight: 600;
        }

        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 1.5rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1.5rem;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--color-accent);
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            left: -1.4rem;
            top: 1.2rem;
            width: 2px;
            height: calc(100% - 0.5rem);
            background: var(--color-border);
        }

        .timeline-item:last-child::after {
            display: none;
        }

        code {
            background: var(--color-card);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: var(--color-accent);
        }

        .phase-indicator {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .phase-el-nino {
            background: rgba(239, 68, 68, 0.2);
            color: #dc2626;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .phase-la-nina {
            background: rgba(59, 130, 246, 0.2);
            color: #2563eb;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .phase-neutral {
            background: rgba(34, 197, 94, 0.2);
            color: #16a34a;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .meta {
                flex-direction: column;
                gap: 0.5rem;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }
        }

        footer {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--color-border);
            text-align: center;
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ENSO-Controlled Agricultural Risk Assessment</h1>
            <p class="subtitle">Functional Data Analysis using Haskell & FAOSTAT</p>
            <div class="meta">
                <div class="meta-item">
                    <strong>Review:</strong> 0th (Initial Proposal)
                </div>
                <div class="meta-item">
                    <strong>Date:</strong> February 27, 2026
                </div>
                <div class="meta-item">
                    <strong>Language:</strong> Haskell
                </div>
            </div>
        </header>

        <section>
            <h2>1. Project Overview</h2>
            <p>This project aims to build a functional data analysis system in Haskell that quantifies agricultural production risks controlled by ENSO (El Ni√±o-Southern Oscillation) climate patterns using real-world crop yield data from FAOSTAT.</p>
            
            <div class="highlight">
                <h3>Core Objective</h3>
                <p>Analyze crop yield variability across ENSO phases (<span class="phase-indicator phase-el-nino">El Ni√±o</span>, <span class="phase-indicator phase-la-nina">La Ni√±a</span>, <span class="phase-indicator phase-neutral">Neutral</span>) to compute risk statistics including mean yields, variance, and failure probabilities for ENSO-sensitive regions.</p>
            </div>

            <div class="card-grid">
                <div class="card">
                    <h4>üìä Data Source</h4>
                    <p><strong>FAOSTAT</strong> - FAO's comprehensive agricultural database with global crop yields (1961-2023) for 245+ countries.</p>
                </div>
                <div class="card">
                    <h4>üå°Ô∏è Climate Data</h4>
                    <p><strong>NOAA ONI</strong> - Oceanic Ni√±o Index for classifying years into ENSO phases based on sea surface temperature anomalies.</p>
                </div>
                <div class="card">
                    <h4>üíª Implementation</h4>
                    <p><strong>Haskell</strong> - Pure functional programming with immutability, type safety, and algebraic data types for robust analysis.</p>
                </div>
            </div>
        </section>

        <section>
            <h2>2. Background & Motivation</h2>
            
            <h3>2.1 What is ENSO?</h3>
            <p>The El Ni√±o-Southern Oscillation (ENSO) is a recurring climate pattern in the Pacific Ocean that drives global weather variability every 2-7 years. It manifests in three phases:</p>
            
            <ul>
                <li><strong>El Ni√±o (Warm Phase):</strong> Warmer Pacific waters causing droughts in southern Africa, Indonesia, and Australia; floods in South America</li>
                <li><strong>La Ni√±a (Cool Phase):</strong> Cooler waters causing opposite patterns with wetter conditions in southern Africa and drier in South America</li>
                <li><strong>Neutral:</strong> Normal conditions without significant Pacific temperature anomalies</li>
            </ul>

            <h3>2.2 Agricultural Impact</h3>
            <p>ENSO is a major driver of crop yield variability globally. Research shows:</p>
            <ul>
                <li>El Ni√±o can reduce maize yields by 20-50% in southern Africa due to droughts</li>
                <li>In Argentina, cold ENSO phases increase maize production risks from dry soils</li>
                <li>India's monsoon patterns strongly correlate with ENSO, affecting rice and wheat production</li>
                <li>Global wheat market volatility increases during El Ni√±o events</li>
            </ul>

            <div class="highlight">
                <h4>Why Risk Assessment Matters</h4>
                <p>Farmers, insurers, and policymakers need quantitative risk metrics to make informed decisions about crop selection, insurance portfolios, and food security planning. ENSO forecasts provide 6-12 month lead time for adaptation strategies.</p>
            </div>
        </section>

        <section>
            <h2>3. Technical Approach</h2>

            <h3>3.1 Technology Stack</h3>
            <div class="tech-stack">
                <span class="tech-tag">Haskell (GHC 9.x)</span>
                <span class="tech-tag">Cassava (CSV parsing)</span>
                <span class="tech-tag">Statistics</span>
                <span class="tech-tag">Vector</span>
                <span class="tech-tag">Aeson (JSON)</span>
                <span class="tech-tag">Stack/Cabal</span>
            </div>

            <h3>3.2 Data Structures</h3>
            <p>We'll define algebraic data types for type-safe, pure functional data handling:</p>
            
            <div class="card">
                <code>data ENSOPhase = ElNino | LaNina | Neutral</code><br><br>
                <code>data CropRecord = CropRecord { year :: Int, country :: Text, crop :: Text, yieldTonHa :: Double }</code><br><br>
                <code>data RiskStats = RiskStats { meanYield :: Double, variance :: Double, stdDev :: Double, lowYieldProb :: Double }</code>
            </div>

            <h3>3.3 Processing Pipeline</h3>
            <ol>
                <li><strong>Data Ingestion:</strong> Parse FAOSTAT CSV and NOAA ENSO CSV using Cassava library</li>
                <li><strong>Data Cleaning:</strong> Filter valid yields (&gt;0), handle missing values, convert units (hg/ha ‚Üí t/ha)</li>
                <li><strong>ENSO Classification:</strong> Map each year to ENSO phase based on ONI thresholds (ONI &gt;0.5 = El Ni√±o, &lt;-0.5 = La Ni√±a)</li>
                <li><strong>Grouping:</strong> Partition data by (Country, Crop, ENSOPhase) using Data.Map</li>
                <li><strong>Statistical Analysis:</strong> Compute mean, variance, standard deviation, and risk probabilities per group</li>
                <li><strong>Output Generation:</strong> Export results as CSV/JSON for visualization</li>
            </ol>

            <h3>3.4 Key Functions</h3>
            <div class="card">
                <p><code>parseYields :: FilePath ‚Üí IO (Either String [CropRecord])</code></p>
                <p><code>classifyYear :: [(Int, ENSOPhase)] ‚Üí Int ‚Üí ENSOPhase</code></p>
                <p><code>groupByPhase :: [CropRecord] ‚Üí [(Int, ENSOPhase)] ‚Üí Map (Text, Text, ENSOPhase) [Double]</code></p>
                <p><code>computeRiskStats :: [Double] ‚Üí RiskStats</code></p>
                <p><code>assessRisk :: [CropRecord] ‚Üí [(Int, ENSOPhase)] ‚Üí [(Text, Text, ENSOPhase, RiskStats)]</code></p>
            </div>
        </section>

        <section>
            <h2>4. Scope & Focus Areas</h2>

            <h3>4.1 Geographic Focus</h3>
            <p>We'll analyze 3-5 ENSO-sensitive countries for feasibility:</p>
            <ul>
                <li><strong>India:</strong> Maize, rice, wheat (monsoon-dependent)</li>
                <li><strong>Ethiopia:</strong> Maize, teff (drought-prone)</li>
                <li><strong>Argentina:</strong> Maize, soybean (Pampas region)</li>
                <li><strong>Indonesia:</strong> Rice, palm oil (ENSO-driven rainfall)</li>
            </ul>

            <h3>4.2 Crops Selection</h3>
            <p>Focus on major staple crops with known ENSO sensitivity:</p>
            <ul>
                <li>Maize (corn) - globally significant, highly responsive to rainfall</li>
                <li>Rice - critical for Asia, sensitive to monsoon patterns</li>
                <li>Wheat - major trade commodity affected by El Ni√±o</li>
            </ul>

            <h3>4.3 Time Period</h3>
            <p>Analysis will cover <strong>1980-2023</strong> (43 years) to capture multiple ENSO cycles while ensuring data quality and consistency.</p>

            <div class="highlight">
                <h4>Expected Output Example</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Country</th>
                            <th>Crop</th>
                            <th>ENSO Phase</th>
                            <th>Mean Yield (t/ha)</th>
                            <th>Variance</th>
                            <th>Risk (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>India</td>
                            <td>Maize</td>
                            <td><span class="phase-indicator phase-el-nino">El Ni√±o</span></td>
                            <td>2.3</td>
                            <td>0.52</td>
                            <td>28%</td>
                        </tr>
                        <tr>
                            <td>India</td>
                            <td>Maize</td>
                            <td><span class="phase-indicator phase-la-nina">La Ni√±a</span></td>
                            <td>2.8</td>
                            <td>0.31</td>
                            <td>15%</td>
                        </tr>
                        <tr>
                            <td>Ethiopia</td>
                            <td>Maize</td>
                            <td><span class="phase-indicator phase-el-nino">El Ni√±o</span></td>
                            <td>1.6</td>
                            <td>0.68</td>
                            <td>35%</td>
                        </tr>
                    </tbody>
                </table>
                <p><em>Risk % = Percentage of years with yield below (mean - 1 std dev)</em></p>
            </div>
        </section>

        <section>
            <h2>5. Implementation Timeline</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <h3>Phase 1: Setup & Data Acquisition (Week 1-2)</h3>
                    <ul>
                        <li>Install Haskell toolchain (GHCup, Stack/Cabal)</li>
                        <li>Download FAOSTAT crop yield data (maize, rice, wheat)</li>
                        <li>Download NOAA ONI ENSO indices (1980-2023)</li>
                        <li>Set up project structure with dependencies</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 2: Data Parsing & Cleaning (Week 3-4)</h3>
                    <ul>
                        <li>Implement CSV parsing with Cassava</li>
                        <li>Define algebraic data types for domain modeling</li>
                        <li>Build data cleaning and validation functions</li>
                        <li>Test with sample datasets</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 3: ENSO Classification & Grouping (Week 5-6)</h3>
                    <ul>
                        <li>Implement ENSO phase classification algorithm</li>
                        <li>Build grouping functions with Data.Map</li>
                        <li>Integrate crop data with ENSO indices</li>
                        <li>Validate classification accuracy</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 4: Statistical Analysis (Week 7-8)</h3>
                    <ul>
                        <li>Implement pure statistical functions (mean, variance, std dev)</li>
                        <li>Calculate risk probabilities and thresholds</li>
                        <li>Build risk assessment pipeline</li>
                        <li>Unit test with QuickCheck</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 5: Output & Documentation (Week 9-10)</h3>
                    <ul>
                        <li>Export results to CSV/JSON formats</li>
                        <li>Generate analysis report with findings</li>
                        <li>Create visualizations (external tools: R/Python)</li>
                        <li>Complete code documentation and README</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>6. Learning Objectives</h2>

            <div class="card-grid">
                <div class="card">
                    <h4>Functional Programming</h4>
                    <ul>
                        <li>Pure functions and immutability</li>
                        <li>Algebraic data types</li>
                        <li>Pattern matching</li>
                        <li>Higher-order functions</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Data Processing</h4>
                    <ul>
                        <li>CSV parsing and serialization</li>
                        <li>Data cleaning techniques</li>
                        <li>Group-by operations</li>
                        <li>Statistical computation</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Domain Knowledge</h4>
                    <ul>
                        <li>ENSO climate dynamics</li>
                        <li>Agricultural risk assessment</li>
                        <li>Statistical risk metrics</li>
                        <li>Real-world data analysis</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>7. Challenges & Solutions</h2>

            <table>
                <thead>
                    <tr>
                        <th>Challenge</th>
                        <th>Solution Approach</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Missing or inconsistent data in FAOSTAT</td>
                        <td>Implement robust error handling with Maybe/Either types; filter incomplete records</td>
                    </tr>
                    <tr>
                        <td>ENSO phase boundary cases (ONI near ¬±0.5)</td>
                        <td>Use strict thresholds with separate handling for marginal cases</td>
                    </tr>
                    <tr>
                        <td>Large dataset performance</td>
                        <td>Leverage Haskell's laziness; use Vector for performance-critical operations</td>
                    </tr>
                    <tr>
                        <td>Statistical computation accuracy</td>
                        <td>Use established Statistics library; validate against known results</td>
                    </tr>
                    <tr>
                        <td>Data interpretation complexity</td>
                        <td>Start with single country/crop, incrementally expand scope</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h2>8. Expected Outcomes</h2>

            <h3>8.1 Technical Deliverables</h3>
            <ul>
                <li>Fully functional Haskell application with modular architecture</li>
                <li>Parsed and cleaned FAOSTAT dataset for selected countries/crops</li>
                <li>ENSO-classified time series data (1980-2023)</li>
                <li>Risk statistics table (CSV/JSON) with phase-specific metrics</li>
                <li>Comprehensive test suite with QuickCheck</li>
            </ul>

            <h3>8.2 Analytical Insights</h3>
            <ul>
                <li>Quantified yield variance across ENSO phases for key crops</li>
                <li>Identification of high-risk country-crop-phase combinations</li>
                <li>Comparison of ENSO impact magnitude across regions</li>
                <li>Risk probability distributions for agricultural planning</li>
            </ul>

            <h3>8.3 Documentation</h3>
            <ul>
                <li>Project report with methodology and findings</li>
                <li>Code documentation with Haddock</li>
                <li>User guide for running analysis</li>
                <li>Data sources and preprocessing notes</li>
            </ul>
        </section>

        <section>
            <h2>9. Next Steps</h2>

            <div class="highlight">
                <h3>Immediate Actions (Week 1)</h3>
                <ol>
                    <li><strong>Environment Setup:</strong> Verify GHC installation via GHCup, create new Stack project</li>
                    <li><strong>Data Download:</strong> Access FAOSTAT (fao.org/faostat) and download maize yield CSV for India (1980-2023)</li>
                    <li><strong>ENSO Data:</strong> Download NOAA ONI CSV from psl.noaa.gov/data/timeseries/monthly/ONI/</li>
                    <li><strong>Initial Code:</strong> Create basic data types and CSV parsing skeleton</li>
                    <li><strong>Testing:</strong> Load sample data, verify parsing functionality</li>
                </ol>
            </div>
        </section>

        <section>
            <h2>10. References & Resources</h2>

            <h3>Data Sources</h3>
            <ul>
                <li><strong>FAOSTAT:</strong> fao.org/faostat/ - Global agricultural statistics</li>
                <li><strong>NOAA ONI:</strong> psl.noaa.gov/data/timeseries/monthly/ONI/ - ENSO indices</li>
            </ul>

            <h3>Haskell Libraries</h3>
            <ul>
                <li><strong>cassava:</strong> CSV parsing and encoding (hackage.haskell.org/package/cassava)</li>
                <li><strong>statistics:</strong> Statistical functions (hackage.haskell.org/package/statistics)</li>
                <li><strong>vector:</strong> Efficient arrays (hackage.haskell.org/package/vector)</li>
                <li><strong>aeson:</strong> JSON encoding/decoding (hackage.haskell.org/package/aeson)</li>
            </ul>

            <h3>Research Papers</h3>
            <ul>
                <li>A linked-modeling framework to estimate maize production risk associated with ENSO-related climate variability (Argentina study)</li>
                <li>Assessing the Impact of ENSO on Agriculture Over Africa Using Earth Observation Data</li>
                <li>Forecasting global crop yields based on El Ni√±o Southern Oscillation early signals</li>
            </ul>
        </section>

        <footer>
            <p><strong>Project:</strong> ENSO-Controlled Agricultural Risk Assessment</p>
            <p><strong>Language:</strong> Haskell | <strong>Dataset:</strong> FAOSTAT | <strong>Review Status:</strong> 0th Review (Initial Proposal)</p>
            <p>Chennai, Tamil Nadu, India ‚Ä¢ February 27, 2026</p>
        </footer>
    </div>
</body>
</html>
